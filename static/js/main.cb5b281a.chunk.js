(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{19:function(e,a,t){e.exports=t(34)},24:function(e,a,t){},31:function(e,a,t){},32:function(e,a,t){},34:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),c=t.n(r),s=t(12),u=(t(24),t(2)),o=t(6),i=(t(35),t(25),t(29),o.initializeApp({apiKey:"AIzaSyBCVtYuVcpDkr1Qq08VwOS36-L8vHVljgU",authDomain:"forreact-d2eae.firebaseapp.com",databaseURL:"https://forreact-d2eae-default-rtdb.firebaseio.com",projectId:"forreact-d2eae",storageBucket:"forreact-d2eae.appspot.com",messagingSenderId:"504176096587",appId:"1:504176096587:web:963fa501c15d936e4264ce"})),m=o.storage(),d=o.firestore(),f=o.firestore.FieldValue.serverTimestamp,E=i,p=(t(31),function(e){var a=e.email,t=e.setEmail,n=e.password,r=e.setPassword,c=e.handleLogin,s=e.handleSignup,u=e.hasAccount,o=e.setHasAccount,i=e.emailError,m=e.passwordError;return l.a.createElement("section",{className:"login"},l.a.createElement("div",{className:"loginContainer"},l.a.createElement("label",null,"email"),l.a.createElement("input",{type:"text",autoFocus:!0,required:!0,value:a,onChange:function(e){return t(e.target.value)}}),l.a.createElement("p",{className:"errorMsg"},i),l.a.createElement("label",null,"password"),l.a.createElement("input",{type:"password",required:!0,value:n,onChange:function(e){return r(e.target.value)}}),l.a.createElement("p",{className:"errorMsg"},m),l.a.createElement("div",{className:"btnContainer"},u?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"logregbtn",onClick:c},"sign in"),l.a.createElement("p",null,"Dont have an account? ",l.a.createElement("span",{onClick:function(){return o(!u)}},"Signup"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"logregbtn",onClick:s},"sign up"),l.a.createElement("p",null,"have an account? ",l.a.createElement("span",{onClick:function(){return o(!u)}},"sign in"))))))}),h=(t(32),function(){return l.a.createElement("div",null,"cool")}),g=t(1),b=t(13),v=t.n(b),j=t(18),O=function(e){var a=Object(n.useState)(0),t=Object(u.a)(a,2),l=t[0],r=t[1],c=Object(n.useState)(null),s=Object(u.a)(c,2),o=s[0],i=s[1],E=Object(n.useState)(null),p=Object(u.a)(E,2),h=p[0],g=p[1];return Object(n.useEffect)((function(){var a=m.ref(e.name),t=d.collection("images");a.put(e).on("state_changed",(function(e){var a=e.bytesTransferred/e.totalBytes*100;r(a)}),(function(e){i(e)}),Object(j.a)(v.a.mark((function e(){var n,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getDownloadURL();case 2:return n=e.sent,l=f(),e.next=6,t.add({url:n,createdAt:l});case 6:g(n);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:l,url:h,error:o}},w=function(e){var a=e.file,t=e.setFile,r=O(a),c=r.progress,s=r.url;return Object(n.useEffect)((function(){s&&t(null)}),[s,t]),l.a.createElement("div",{className:"progress-bar",style:{width:c+"%"}})},N=function(){var e=Object(n.useState)(null),a=Object(u.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(null),s=Object(u.a)(c,2),o=s[0],i=s[1],m=["image/png","image/jpeg"];return l.a.createElement("div",null,l.a.createElement("form",{className:"imgform"},l.a.createElement("label",{className:"imglabel"},l.a.createElement("input",{type:"file",onChange:function(e){var a=e.target.files[0];a&&m.includes(a.type)?(r(a),i("")):(r(null),i("Please select an image file (png or jpg)"))}}),l.a.createElement("span",null,"+")),l.a.createElement("div",{className:"output"},o&&l.a.createElement("div",{className:"error"},o),t&&l.a.createElement("div",null,t.name),t&&l.a.createElement(w,{file:t,setFile:r}))))},S=t(14),k=function(e){var a=Object(n.useState)([]),t=Object(u.a)(a,2),l=t[0],r=t[1];return Object(n.useEffect)((function(){var a=d.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id}))})),r(a)}));return function(){return a()}}),[e]),{docs:l}},y=function(e){var a=e.setSelectedImg,t=k("images").docs;return l.a.createElement("div",{className:"img-grid"},t&&t.map((function(e){return l.a.createElement("div",{className:"img-wrap",key:e.id,onClick:function(){return a(e.url)}},l.a.createElement("img",{src:e.url,alt:"uploaded pic"}))})))},A=(t(7),function(e){return l.a.createElement("div",null,l.a.createElement(N,null),l.a.createElement(y,{setSelectedImg:e}))}),C=function(){return l.a.createElement("div",{className:"about"},l.a.createElement("h1",null,"About us"),l.a.createElement("p",null,"This site was made as laboratory work number 6. It is a photo gallery where you can upload photos, with authorization and registration implemented. User data is stored in Firebase database and all uploaded photos are stored in Firebase Storage."),l.a.createElement("h2",null,"I hope you like it!"))},I=function(e){return l.a.createElement("div",null,l.a.createElement("h1",{className:"folder"},"folder1"),l.a.createElement(N,null),l.a.createElement(y,{setSelectedImg:e}))},F=function(e){return l.a.createElement("div",null,l.a.createElement("h1",{className:"folder"},"folder2"),l.a.createElement(N,null),l.a.createElement(y,{setSelectedImg:e}))},L=function(e){return l.a.createElement("div",null,l.a.createElement("h1",{className:"folder"},"folder3"),l.a.createElement(N,null),l.a.createElement(y,{setSelectedImg:e}))};var x=function(){var e=Object(n.useState)(""),a=Object(u.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(""),s=Object(u.a)(c,2),o=s[0],i=s[1],m=Object(n.useState)(""),d=Object(u.a)(m,2),f=d[0],b=d[1],v=Object(n.useState)(""),j=Object(u.a)(v,2),O=j[0],w=j[1],N=Object(n.useState)(""),S=Object(u.a)(N,2),k=S[0],y=S[1],x=Object(n.useState)(!1),B=Object(u.a)(x,2),P=B[0],U=B[1],V=function(){w(""),y("")},D=function(){E.auth().signOut()};return Object(n.useEffect)((function(){E.auth().onAuthStateChanged((function(e){e?(i(""),b(""),r(e)):r("")}))}),[]),l.a.createElement("div",{className:"App"},t?l.a.createElement("div",null,l.a.createElement("header",null,l.a.createElement("button",{className:"logout",onClick:D},"log out"),l.a.createElement("ul",{className:"list"},l.a.createElement("li",null,l.a.createElement("a",{className:"hrefs",href:"/"},"Home page")),l.a.createElement("li",null,l.a.createElement("a",{className:"hrefs",href:"/search"},"search")),l.a.createElement("li",null,l.a.createElement("a",{className:"hrefs",href:"/about"},"About"))),l.a.createElement("ul",{className:"folders"},l.a.createElement("li",null,l.a.createElement("a",{className:"folderlist",href:"/folder1"},"folder1")),l.a.createElement("li",null,l.a.createElement("a",{className:"folderlist",href:"/folder2"},"folder2")),l.a.createElement("li",null,l.a.createElement("a",{className:"folderlist",href:"/folder3"},"folder3")))),l.a.createElement(g.c,null,l.a.createElement(g.a,{path:"/",element:l.a.createElement(A,{handleLogout:D})}),l.a.createElement(g.a,{path:"/search",element:l.a.createElement(h,null)}),l.a.createElement(g.a,{path:"/about",element:l.a.createElement(C,null)}),l.a.createElement(g.a,{path:"/folder1",element:l.a.createElement(I,null)}),l.a.createElement(g.a,{path:"/folder2",element:l.a.createElement(F,null)}),l.a.createElement(g.a,{path:"/folder3",element:l.a.createElement(L,null)}))):l.a.createElement(p,{email:o,setEmail:i,password:f,setPassword:b,handleLogin:function(){V(),E.auth().signInWithEmailAndPassword(o,f).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":w(e.message);break;case"auth/wrong-password":y(e.message)}}))},handleSignup:function(){V(),E.auth().createUserWithEmailAndPassword(o,f).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":w(e.message);break;case"auth/weak-password":y(e.message)}}))},hasAccount:P,setHasAccount:U,emailError:O,passwordError:k}))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,null,l.a.createElement(x,null))),document.getElementById("root"))},7:function(e,a,t){}},[[19,1,2]]]);
//# sourceMappingURL=main.cb5b281a.chunk.js.map